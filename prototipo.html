<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<html>
	<head>
		<title>Lista de Tarefas</title>
		
	</head>
	
	<style type="text/css">
	
	ul{
		list-style-position: outside;
		padding: 0;
	}
	
	
	li{
		list-style: none;
		margin:8px;
	}
	
	.lista{
		border-top:1px solid gray;
		margin:10px;
    }

    .task_done{
        background-color:green;
    }

    .task_undone
    {
        background-color:white;
    }
	</style>
	<body>
	
		<h1>Listas</h1>
		
		<div class="lista">
			<h2>Lista 1</h2>
			<ul id="atividades">
				<li><input type="checkbox" />Tarefa 1</li>
				<li><input type="checkbox" />Tarefa 2</li>
				<li><input type="checkbox" />Tarefa 3</li>
				<li><input type="checkbox" />Tarefa 4</li>
				<li><input type="checkbox" />Tarefa 5</li>
			</ul>
		</div>
		
		<div>
			
			
			<form name="">
			
				<input id="txtTarefa" type="text" size="50"/>
				<input id="btnAdd" type="button" value="Adicionar tarefa"/>
			</form>
		</div>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
        <script type="text/javascript" >
            onTaskCheck = function(){ 
                if ($(this).is(':checked'))
                {
                    $(this).parent().addClass('task_done').removeClass('task_undone');
                }
                else
                {
                    $(this).parent().addClass('task_undone').removeClass('task_done');
                }
            }

			$(document).ready(function() {
				$('#btnAdd').click(function() {
					$('#atividades').append('<li><input type="checkbox" />'+ $('#txtTarefa').val() +'</li>');
                });

                jQuery.each($(':checkbox:checked'), function(e,i){ $(i).parent().addClass('task_done').removeClass('task_undone'); });                 

                $(':checkbox').live('change',onTaskCheck);
			});
		</script>
	</body>
</html>
